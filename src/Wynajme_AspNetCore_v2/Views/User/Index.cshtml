@model Wynajme_AspNetCore_v2.Models.UserViewModel.UserIndexViewModel

@using Sakura.AspNetCore.Mvc
@using Sakura.AspNetCore

<div style="background-color:#116597;">
    <div class="container">
        <div style="padding-top:20px; padding-bottom:30px; text-align: left">
            <div class="header">
                <strong>
                    <span class="glyphicon glyphicon-user"></span>
                    Informacje o uzytkowniku
                </strong>
            </div>
            <div class="paragraph">
                <span class="glyphicon glyphicon-envelope"></span>
                Skontaktuj sie z uzytkownikiem aby poznac szczegoły dotyczące interesujuacych Cie ogloszen!
            </div>
        </div>
    </div>
</div>


<div class="container">

    <div class="LightGrayConteiner">
        <div class="row">
            <h3 class="col-md-2">@Model.Name @Model.LastName</h3>
            <div class="col-md-2">
                @{
                    if (Model.UserImage.Length < 10)
                    {
                        <img src="~/images/DefaultUserPhoto.png" class="img-circle" style="width:100px; height:100px;" />
                    }
                    else
                    {
                        var base64 = Convert.ToBase64String(Model.UserImage);
                        var patch = String.Format("data:image/gif;base64,{0}", base64);
                        <img src='@patch' class="img-circle" style="width:100px; height:100px;" />
                    }
                }
            </div>
            <div class="col-md-5">

                <div class="row">
                    <h4 class="col-md-5"><span class="glyphicon glyphicon-phone-alt"></span> Numer telefonu:</h4>
                    <h4>@Model.PhoneNumber</h4>
                </div>

                <div class="row">
                    <h4 class="col-md-5"><span class="glyphicon glyphicon-envelope"></span> E-mail:</h4>
                    <h4>@Model.Email</h4>
                </div>

                <div class="row">
                    <h4 class="col-md-5"><span class="glyphicon glyphicon-calendar"></span> Data rejestracji:</h4>
                    <h4>@Html.DisplayFor(modelItem => Model.RegisterDate)</h4>
                </div>

            </div>
        </div>
    </div>

    <div class="row">

        <div class="col-md-2">
        </div>

        <div class="col-md-8">

            <table class="table">

                @foreach (var item in Model.Ogloszenia)
            {

                if (item.Miniature == null)
                {
                    ViewData["imgSrc"] = "~/images/DefaultOglPhoto.png";
                }
                else
                {
                    var base64 = Convert.ToBase64String(item.Miniature);
                    ViewData["imgSrc"] = String.Format("data:image/gif;base64,{0}", base64);
                }

                <tr>
                    <td class="col-lg-1 col-md-1 col-sm-2">
                        <img src='@ViewData["imgSrc"]' style="max-width:180px; max-height:180px;" asp-append-version="true" />
                    </td>
                    <td>
                        <div>
                            <a asp-controller="Ogloszenie" asp-action="Details" asp-route-id="@item.OgloszenieId"><h4 style="color:#4a94a3"><strong>@item.Tytul</strong></h4></a>
                        </div>
                        <div>
                            @Html.DisplayFor(modelItem => item.Kategoria.Nazwa)
                        </div>
                        <div>
                            @Html.DisplayFor(modelItem => item.Miasto.Nazwa)
                        </div>
                        <div>
                            @Html.DisplayFor(modelItem => item.Cena)
                        </div>
                        <p />
                        <div>
                            @Html.DisplayFor(modelItem => item.DataDodania)
                        </div>
                    </td>
                </tr>
                }
            </table>

            <pager source="Model.Ogloszenia" />

        </div>

    </div>

</div>

<div style="height:500px;"></div>


